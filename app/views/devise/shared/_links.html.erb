<%- if controller_name != 'sessions' %>
  <%= link_to "Sign in", new_session_path(resource_name) %><br />
<% end -%>

<%- if devise_mapping.registerable? && controller_name != 'registrations' %>
  <%= link_to "Sign up", new_registration_path(resource_name) %><br />
<% end -%>

<%- if devise_mapping.recoverable? && controller_name != 'passwords' && controller_name != 'registrations' %>
  <%= link_to "Forgot your password?", new_password_path(resource_name) %><br />
<% end -%>

<%- if devise_mapping.confirmable? && controller_name != 'confirmations' %>
  <%= link_to "Didn't receive confirmation instructions?", new_confirmation_path(resource_name) %><br />
<% end -%>

<%- if devise_mapping.lockable? && resource_class.unlock_strategy_enabled?(:email) && controller_name != 'unlocks' %>
  <%= link_to "Didn't receive unlock instructions?", new_unlock_path(resource_name) %><br />
<% end -%>

<%- if devise_mapping.omniauthable? %>
  <%- resource_class.omniauth_providers.each do |provider| %>
    <%= link_to "Sign in with #{provider.to_s.titleize}", omniauth_authorize_path(resource_name, provider) %><br />
  <% end -%>
<% end -%>


<!-- 
  This page of code:

    parts I don't understand:
      resource_name - is this a rails method? a devise method? what does it return?
      omniauth_providers - I think this is just facebook, but where did I set this?
        answer: this is set in user model with the line '  devise :omniauthable, omniauth_providers: [:facebook] '
      resource_class - again, is this a rails method? a devise method? what does it do?
      devise_mapping - what is this

    assumptions I am making:
      omniauth_authorize_path is a route that is generated from routes.rb by the line ' devise_for :users, controllers: { omniauth_callbacks: "users/omniauth_callbacks" '

  In User.rb:

    def self.from_omniauth(auth)
      where(provider: auth.provider, uid: auth.uid).first_or_create do |user|
        user.email = auth.info.email
        user.password = Devise.friendly_token[0,20]
        #user.name = auth.info.name   # assuming the user model has a name
        #user.image = auth.info.image # assuming the user model has an image
      end
    end

  go this method from devise install instructions
  
  parts I don't understand:
    first_or_create - where does this method belong, what does it do?
    where(x) - where does this method belong, what does it do?
    args for where(x) - what is uid? what is auth? where are these set? 

  assumptions
    the user.email and user.password lines are setting the user variable using info retrieved from ...where?


  Generally, how omniauth with devise works, and then how that would need to be modified for an api:

    different 'recipes' (they use some other word I think) for different authorization platforms (ie facebook, google, github, etc.)
    for each recipe, you have a link to login with that platform
    the link is generated by routes code
    routes through omniauth controller, where my understanding starts to degrade
    omniauth controller pings the platform
    if the login is successful, the platform returns (what exactly?) a packet of data
    a new session is allowed

    for api:
    won't need a link neccessarily.. how do you start the process then? call to some method, which means calling directly from the 




